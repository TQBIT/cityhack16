<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<!-- css reset -->
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/meyer-reset/2.0/reset.css" integrity="sha256-7VVaJ5GDwFQiLIc+eNksQLUSSY5JNZtqv9o2BI8UGYg=" crossorigin="anonymous" />
	<!-- jquery & jquery UI-->
	<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js" integrity="sha256-KM512VNnjElC30ehFwehXjx1YCHPiQkOPmqnrWtpccM=" crossorigin="anonymous"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/jqueryui-touch-punch/0.2.3/jquery.ui.touch-punch.min.js" integrity="sha256-AAhU14J4Gv8bFupUUcHaPQfvrdNauRHMt+S4UVcaJb0=" crossorigin="anonymous"></script>
	<!-- bootstrap css & JS -->
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
	<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>
	<!-- main.css -->
	<link rel="stylesheet" type="text/css" href="../main.css">
	<title>Serendipity - Create Event</title>
	<script>
		function createOffer() {
			var OfferName = document.getElementsByName('OfferName')[0].value;
			var OfferDesc = document.getElementsByName('OfferDesc')[0].value;
			var StartDuration = document.getElementsByName('StartDuration')[0].value;
			var EndDuration = document.getElementsByName('EndDuration')[0].value;
			var CatID = document.getElementsByName('CatID')[0].value;
			var OfferAddress = document.getElementsByName('OfferAddress')[0].value;
			var OfferLat = document.getElementsByName('OfferLat')[0].value;
			var OfferLong = document.getElementsByName('OfferLong')[0].value;
			var OfferLimit = document.getElementsByName('OfferLimit')[0].value;
			var ImageURL = '';
			//var ImageURL = document.getElementsByName('ImageURL')[0].value;
			
			$.get( "../webservice/ws.php?action=createOffer&name=" + OfferName + "&desc=" + OfferDesc + "&startDate=" + StartDuration + "&endDate=" + EndDuration + "&catID=" + CatID + "&address=" + OfferAddress + "&lat=" + OfferLat + "&long=" + OfferLong + "&limit=" + OfferLimit + "&url=" + ImageURL, function( data ) {
				alert(data);
				data = JSON.parse(data);
				if(data[0] == 1) {
					console.log('Offer successfully created');
				} else {
					console.log(data[2]);
				}
			});
		}
	</script>
</head>
<body>
	<nav class="navbar navbar-default">
		<div class="container-fluid">
			<div class="navbar-header">
				<button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#myNavbar">
					<span class="icon-bar"></span>
					<span class="icon-bar"></span>
					<span class="icon-bar"></span> 
				</button>
				<div class="navbar-brand">
					<img style="max-width: 100px; margin-top: -3px;" src="../img/serendipity_logo-PNG.png" alt="serendipity">
				</div>
				<span class="navbar-text visible-xs visible-sm">| CREATE OFFER</span>
			</div>
			<div class="collapse navbar-collapse" id="myNavbar">
				<ul class="nav navbar-nav">
					<li class="active"><a href="#">Create Offer</a></li> 
					<li><a href="Offers.html">Offers</a></li> 
					<li><a href="logout.html">Logout</a></li> 
				</ul>
			</div>
		</div>
	</nav>
	<div class="container-fluid">
		<div class="wrapper" id="request_form">
			<form onsubmit="return false">
				<div class="field">
					<input type="text" name="OfferName" id="Offername" class="noicon" placeholder="OFFER NAME" value="">
				</div>
				<div class="field">
					<Select name="CatID">
						<option value="1">Sport</option>
						<option value="2">Food and Drink</option>
						<option value="3">Transport</option>
						<option value="4">Lodging</option>
						<option value="5">Leisure</option>
					</Select>
				</div>  
				<div class="field">
					<textarea class="noicon" form="request_form" rows="3" name="OfferDesc" id="offerDesc" placeholder="OFFER DESC"></textarea>
				</div>
				<div class="field">
					<label for="startDuration" class="icon glyphicon glyphicon-calendar"></label>
					<input type="datetime-local" name="StartDuration" id="StartDuration" placeholder="OFFER START DURATION" value="">
				</div>
				<div class="field">
					<label for="EndDuration" class="icon glyphicon glyphicon-calendar"></label>
					<input type="datetime-local" name="EndDuration" id="EndDuration" placeholder="OFFER END DURATION" value="">
				</div>
				<div class="field">
					<label for="OfferAddress" class="icon glyphicon glyphicon-map-marker"></label>
					<input type="text" name="OfferAddress" id="OfferAddress" placeholder="OFFER ADDRESS" value="">
				</div>
				<div class="field">
					<input type="OfferLat" name="OfferLat" id="OfferLat" placeholder="OFFER LAT" value="">
				</div>                
				<div class="field">
					<input type="OfferLong" name="OfferLong" id="OfferLong" placeholder="OFFER LONG" value="">
				</div>
				<div class="field">
					<input type="text" name="OfferLimit" id="limit" placeholder="OFFER LIMIT" class="noicon" value="">
				</div>
				<div class="field">
					<input type="submit" name="request_submit" id="request_submit" value="CREATE OFFER" onclick="createOffer();">
				</div>
			</form>
		</div>
	</div>
</body>
</html>